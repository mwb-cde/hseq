########################################################## --*- Makefile -*--
# Copyright (c) 2011-2021 Matthew Wahab <mwb.cde@gmail.com>
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
######################################################################

#####
# Definitions and rules for building modules.
#
# REQUIREMENTS
# ------------
#
# Must set PROJ_ROOT.
# PROJ_ROOT: Variable containing relative path to top of the source tree.
#
# Must end with
#    include $(PROJ_ROOT)/Makefile.common
#
#
# Variables:
# ----------
#
# Module settings:
#
# SUBDIRS: List of sub-directories to recurse into.
# LIBRARIES: List of libraries to build.
# PACKAGES: List of packages to build.
# PROGRAMS: List of programs to build.
#

#####
# Required definitions
#

# PROJ_ROOT: Relative path to HSeq root.
PROJ_ROOT=..

#####
# Module building settings
#

# LIBRARIES:List of packages to build.
LIBRARIES=hseq

#####
# Object building settings
#

# Library HSeq

hseq_PACK_NAME=HSeq

##
# HSeq sources

# Source for each of the HSeq component libraries.
Util_SOURCES=lib order treekit unique parserkit rewritekit
Tpcore_SOURCES=config defaults settings ident printkit \
		gtype term scope \
		printers report \
		ltype lterm \
		dbterm typing unify net rewrite
Logic_SOURCES=changes formula defn subgoalkit skolem logic theory thydb
Parser_SOURCES=counter lexer pterm grammars parser
Tpmain_SOURCES=context boolPP tactics goals commands display
Booleans_SOURCES=baseTheory boolutil boolbase \
		rewritelib booltacs boolinduct boollib
Simplifier_SOURCES=simputils simpconvs simpset simplifier \
		   simptacs simplib

hseq_SOURCES=$(Util_SOURCES) $(Tpcore_SOURCES) $(Logic_SOURCES) \
		$(Parser_SOURCES) $(Tpmain_SOURCES) $(Booleans_SOURCES) \
		$(Simplifier_SOURCES)


######################################################################
# DO NOT CHANGE ANYTHING IN THIS SECTION
######################################################################

###
# Include common definitions

# Test for PROJ_ROOT being defined.
ifndef PROJ_ROOT
$(error "PROJ_ROOT Must be set to relative path to HSeq root")
endif

include $(PROJ_ROOT)/Makefile.rules

######################################################################
# END OF SECTION
######################################################################


###
# Local build rules.

# Configuration data. Generated by the toplevel configure script, copied and
# compiled into the hseq libraries.
#.INTERMEDIATE: config.mli config.ml
#config.mli config.ml: $(SRC_ROOT)/$@
#	$(COPY) $(SRC_ROOT)/$@ $@

