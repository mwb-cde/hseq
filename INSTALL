Installation
============

Requirements: 
  OCaml version 3.09

To build:
  GNU Make on Unix 
  or OMake (omake) on any system OMake supports.

Build:
------

The GNU Make and OMake builds are the same. For OMake, use 'omake'
rather than 'make' and see the notes below.

From the toplevel directory: 
1) Run the configuration script:
	ocaml configure.ml

   This generates files config/data.make and config/configure.data

   Options for configure.ml:
	--help:      See the list of options and their default values.
	--basedir d: Set the installation directory to d
                     default:/usr/local/lib/hseq
	--bindir d:  Install the binary in directory d
        --fast (true/false): 
                     Use the fast byte-code compiler (ocamlc.opt)
                     default:false (use ocamlc)

   Examples:
	ocaml configure.ml --help,

	ocaml configure.ml --bindir /usr/local/bin
	(put the binary in /usr/local/bin)

	ocaml configure.ml --fast true --basedir `pwd` 
	(make the installation directory the same as the build directory
	and use the fast compilers)

2) Build the system:
	make

3) Install the system:
	make install

4) Build and install documentation (optional, recommended)
	make install-doc

5) Build and install source code documentation (optional, recommended)
	make install-srcdoc

6) Clean up
	make clean


Notes:
------

The directories passed to the configuration script (in step 1) should
not contain any spaces.

Building the documentation requires the GNU Texinfo system and a GNU
Make/Unix environment.

OMake Notes:
------------

The OMake website is at http://omake.metaprl.org

The OMake build can be fragile, in case of difficulties it may be
worth removing the HSeq source tree and trying again.

The OMake build will not install the documentation by default. The
command 'omake install-doc' can be used after the build completes or
the documentation can be copied manually (from directory 'doc/html').


NON-UNIX BUILD
==============

Building on non-Unix systems requires OMake and is not as well tested
as the Unix build.

Building on Win32 systems is fragile. Installing into a sub-directory
of the source tree seems to work. For example, if the root of the
source tree is '/src/hseq', the installation directory can be set to
'/src/hseq/dist'. 

On Win32 systems, it is better to pass Unix format strings to the
configuration string. For example, '/src/hseq/' rather than
'\src\hseq'.


AFTER INSTALLATION
==================

The binary is named "hseq" and can be moved to a different location,
such as a directory in the system path.

The installation directory can be changed after the system is built
provided the environment variable "HSEQ" is set to the new directory.


